---
import { svgPaths, svgViewBoxes } from "../../../lib/svg/paths";
import { categories } from "../../../lib/newt/instance";
// Image
import { Image } from "astro:assets";
import ZennLogo from "../../../images/common/zenn-logo.svg";
---

<nav class="menu-content">
	<ul class="menu-links">
		<li class="menu-link">
			<a href="/blog/all/1">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.penNib} class="other-svgs">
					<path d={svgPaths.penNib}></path>
				</svg>
				<span>ブログ</span>
			</a>
			<ul class="categories">
				{
					categories &&
						categories.map((category) => {
							return (
								<li class="category">
									<a href={`/blog/category/${category.slug}/1`}>
										<svg
											xmlns="http://www.w3.org/2000/svg"
											viewBox={category.svgViewBox}
											fill={category.themeColor}
										>
											<path d={category.svgIconPath} />
										</svg>
										<span>{category.name}</span>
									</a>
								</li>
							);
						})
				}
				<li class="category">
					<a href="/blog/search">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox={svgViewBoxes.magnifyingGlass}
							class="other-svgs"
						>
							<path d={svgPaths.magnifyingGlass}></path>
						</svg>
						<span>記事をさがす</span>
					</a>
				</li>
				<li class="category">
					<a href="/blog/link/1">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.link} class="other-svgs">
							<path d={svgPaths.link}></path>
						</svg>
						<span>開発リンク集</span>
					</a>
				</li>
			</ul>
		</li>
		<hr />
		<li class="menu-link">
			<a href="/profile">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.user} class="other-svgs">
					<path d={svgPaths.user}></path>
				</svg>
				<span>プロフィール</span>
			</a>
			<ul class="hash-categories">
				<li class="category">
					<a href="/profile#about-section">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox={svgViewBoxes.hashtag}
							class="other-svgs"
						>
							<path d={svgPaths.hashtag}></path>
						</svg>
						<span>About</span>
					</a>
				</li>
				<li class="category">
					<a href="/profile#qualifications-section">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox={svgViewBoxes.hashtag}
							class="other-svgs"
						>
							<path d={svgPaths.hashtag}></path>
						</svg>
						<span>Qualifications</span>
					</a>
				</li>
				<li class="category">
					<a href="/profile#skills-section">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox={svgViewBoxes.hashtag}
							class="other-svgs"
						>
							<path d={svgPaths.hashtag}></path>
						</svg>
						<span>Skills</span>
					</a>
				</li>
				<li class="category">
					<a href="/profile#works-section">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox={svgViewBoxes.hashtag}
							class="other-svgs"
						>
							<path d={svgPaths.hashtag}></path>
						</svg>
						<span>Works</span>
					</a>
				</li>
			</ul>
		</li>
		<hr />
		<li class="menu-link">
			<a href="/document/1">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.folder} class="other-svgs">
					<path d={svgPaths.folder}></path>
				</svg>
				<span>ドキュメント</span>
			</a>
		</li>
		<hr />
		<li class="menu-link">
			<a href="/contact">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.envelope} class="other-svgs">
					<path d={svgPaths.envelope}></path>
				</svg>
				<span>お問い合わせ</span>
			</a>
		</li>
		<hr />
	</ul>
	<ul class="external-links">
		<li class="external-link">
			<a href={import.meta.env.X_URL} target="_blank" rel="noopener noreferrer">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.xTwitter}>
					<path d={svgPaths.xTwitter}></path>
				</svg>
			</a>
		</li>
		<li class="external-link">
			<a href={import.meta.env.GITHUB_URL} target="_blank" rel="noopener noreferrer">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.github}>
					<path d={svgPaths.github}></path>
				</svg>
			</a>
		</li>
		<li class="external-link">
			<a href={import.meta.env.ZENN_URL} target="_blank" rel="noopener noreferrer">
				<Image src={ZennLogo} alt="Zenn" />
			</a>
		</li>
	</ul>
	<a href="/site-policy" class="site-policy"> サイトポリシー </a>
</nav>

<style lang="scss">
	.menu-content {
		width: 100%;
		height: 100dvh;
		position: fixed;
		top: 0;
		left: 0;
		z-index: 1000;
		background: getColor(--bg-secondary-color, 0.9);
		color: getColor(--text-primary-color);
		padding: calc(36px + 1rem) 1.5rem;

		@include resp(sm) {
			padding: calc(48px + 1rem) 1.5rem;
		}

		@include resp(lg) {
			padding: calc(64px + 1rem) 1.5rem;
		}
	}

	.menu-links {
		display: flex;
		flex-direction: column;
		align-items: start;
		gap: 1rem;

		@include resp(lg) {
			flex-direction: row;
			justify-content: space-around;
			margin-top: 3rem;
		}

		.menu-link {
			font-size: 1.5rem;
			font-weight: 600;
			letter-spacing: 1px;
			width: 100%;

			@include resp(lg) {
				width: max-content;
				font-size: 2.4rem;
			}

			a {
				display: flex;
				align-items: center;
				gap: 0.8rem;
				height: 1.5rem;
				white-space: nowrap;

				&:active {
					opacity: 0.5;
					transition: 0.2s ease;
				}

				@include resp(lg) {
					height: 2rem;
					&:hover {
						opacity: 0.5;
						transition: 0.2s all;
					}
				}

				svg {
					width: 1.5rem;
					height: 1.5rem;

					@include resp(lg) {
						width: auto;
						height: 2rem;
					}
				}

				.other-svgs {
					fill: getColor(--text-primary-color);
				}
			}

			.hash-categories {
				display: none;

				@include resp(lg) {
					display: flex;
				}
			}

			.categories {
				display: flex;
			}

			.categories,
			.hash-categories {
				flex-direction: column;
				gap: 0.5rem;
				padding: 1rem 0 0 1rem;

				@include resp(lg) {
					gap: 2rem;
					padding: 3rem 0 0 0;
				}

				.category {
					display: inline-flex;
					align-items: center;
					font-size: 1rem;
					font-weight: 400;
					color: getColor(--text-secondary-color);

					@include resp(lg) {
						font-size: 1.5rem;
						letter-spacing: 2px;
						text-decoration: none;
					}

					a {
						@include resp(lg) {
							&:hover {
								transition: 0.2s ease;
							}
						}
					}

					svg {
						width: 1rem;
						max-height: 1rem;

						@include resp(lg) {
							width: 1.5rem;
							max-height: 1.5rem;
						}
					}
				}
			}
		}
	}

	.external-links {
		position: absolute;
		bottom: 0.5rem;
		right: 1rem;

		display: flex;
		align-items: center;
		gap: 1.2rem;

		@include resp(lg) {
			gap: 2rem;
		}

		.external-link {
			width: 1.2rem;
			height: 1.2rem;

			&:active {
				opacity: 0.5;
				transition: 0.2s ease;
			}

			@include resp(lg) {
				width: 2rem;
				height: 2rem;

				&:hover {
					opacity: 0.5;
					transition: 0.2s all;
				}
			}

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			svg {
				width: 100%;
				height: 100%;
				fill: getColor(--bg-inversion-color);
			}
		}
	}

	.site-policy {
		position: absolute;
		bottom: 0.6rem;
		left: 1rem;
		font-size: 0.8rem;
		font-weight: 300;
		color: getColor(--text-secondary-color);

		&:active {
			opacity: 0.5;
			transition: 0.2s ease;
		}

		@include resp(sm) {
			font-size: 0.9rem;
		}

		@include resp(lg) {
			font-size: 1rem;

			&:hover {
				opacity: 0.5;
				transition: 0.2s all;
			}
		}
	}

	hr {
		width: 100vw;
		margin-left: -1.5rem;
		border: solid 0.5px getColor(--border-color);

		@include resp(lg) {
			display: none;
		}
	}
</style>
