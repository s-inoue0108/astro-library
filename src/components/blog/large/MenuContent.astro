---
import { svgPaths, svgViewBoxes } from "../../../lib/svg/paths";
import { categories } from "../../../lib/newt/instance";
// Image
import { Image } from "astro:assets";
import ZennLogo from "../../../images/common/zenn-logo.svg";
---

<nav class="menu-content">
	<ul class="menu-links">
		<li class="menu-link">
			<a href="/blog/all/1">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.caretRight}>
					<path d={svgPaths.caretRight}></path>
				</svg>
				<span>ブログ</span>
			</a>
		</li>
		<li class="menu-link">
			<ul class="categories">
				{
					categories &&
						categories.map((category) => {
							return (
								<li class="category">
									<a href={`/blog/category/${category.slug}/1`}>
										<svg xmlns="http://www.w3.org/2000/svg" viewBox={category.svgViewBox}>
											<path d={category.svgIconPath} />
										</svg>
										<span>{category.name}</span>
									</a>
								</li>
							);
						})
				}
				<li class="category">
					<a href={`/blog/search`}>
						<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.magnifyingGlass}>
							<path d={svgPaths.magnifyingGlass}></path>
						</svg>
						<span>記事をさがす</span>
					</a>
				</li>
			</ul>
		</li>
		<li class="menu-link">
			<a href="/profile">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.caretRight}>
					<path d={svgPaths.caretRight}></path>
				</svg>
				<span>プロフィール</span>
			</a>
		</li>
		<li class="menu-link">
			<a href="/privacy-policy">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.caretRight}>
					<path d={svgPaths.caretRight}></path>
				</svg>
				<span>プライバシーポリシー</span>
			</a>
		</li>
		<li class="menu-link">
			<a href="/contact">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.caretRight}>
					<path d={svgPaths.caretRight}></path>
				</svg>
				<span>お問い合わせ</span>
			</a>
		</li>
		<li class="menu-link">
			<a href="/">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.caretRight}>
					<path d={svgPaths.caretRight}></path>
				</svg>
				<span>ホーム</span>
			</a>
		</li>
	</ul>
	<ul class="external-links">
		<li class="external-link">
			<a href={import.meta.env.X_URL} target="_blank" rel="noopener noreferrer">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.xTwitter}>
					<path d={svgPaths.xTwitter}></path>
				</svg>
			</a>
		</li>
		<li class="external-link">
			<a href={import.meta.env.GITHUB_URL} target="_blank" rel="noopener noreferrer">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox={svgViewBoxes.github}>
					<path d={svgPaths.github}></path>
				</svg>
			</a>
		</li>
		<li class="external-link">
			<a href={import.meta.env.ZENN_URL} target="_blank" rel="noopener noreferrer">
				<Image src={ZennLogo} alt="Zenn" />
			</a>
		</li>
	</ul>
</nav>

<style lang="scss">
	.menu-content {
		width: 100%;
		height: 100svh;
		position: fixed;
		top: 0;
		left: 0;
		z-index: 100;
		background: getColor(--bg-primary-color, 0.9);
		color: getColor(--text-primary-color);
		padding: calc(36px + 1rem) 1.5rem;

		@include resp(sm) {
			padding: calc(48px + 1rem) 1.5rem;
		}

		@include resp(lg) {
			padding: calc(64px + 1rem) 1.5rem;
		}
	}

	.menu-links {
		display: flex;
		flex-direction: column;
		align-items: start;
		gap: 1.6rem;

		.menu-link {
			font-size: 1.5rem;
			font-weight: 600;
			letter-spacing: 1px;

			a {
				display: flex;
				align-items: center;
				gap: 1rem;
				height: 1.5rem;
				white-space: nowrap;

				svg {
					height: 100%;
					fill: getColor(--text-primary-color);
				}

				&:active {
					color: $rose;
					transition: 0.2s ease;

					svg {
						fill: $rose;
					}
				}
			}
		}

		.categories {
			display: flex;
			flex-direction: column;
			gap: 0.8rem;
			padding-left: 2rem;

			.category {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				font-size: 1rem;
				font-weight: 400;

				svg {
					width: 1rem;
				}

				a:active {
					color: $rose;
					transition: 0.2s ease;

					svg {
						fill: $rose;
					}
				}
			}
		}
	}

	.external-links {
		position: absolute;
		bottom: 1rem;
		left: 1rem;

		display: flex;
		align-items: center;
		gap: 1.2rem;

		@include resp(lg) {
			gap: 2rem;
		}

		.external-link {
			width: 1.2rem;
			height: 1.2rem;

			@include resp(lg) {
				width: 2rem;
				height: 2rem;
			}

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			svg {
				width: 100%;
				height: 100%;
				fill: getColor(--bg-inversion-color);
			}
		}
	}
</style>
