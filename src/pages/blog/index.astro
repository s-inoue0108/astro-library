---
import Layout from "../../layouts/Layout.astro";
import TagsListModal from "../../components/common/modal/TagsListModal.vue";
import ArchivesListModal from "../../components/common/modal/ArchivesListModal.vue";
import PageTitle from "../../components/blog/background/PageTitle.astro";
import CategoriesNavBar from "../../components/blog/background/CategoriesNavBar.astro";
import ArticleCards from "../../components/blog/large/ArticleCards.astro";
// newt
import { articles, categories, tags } from "../../lib/newt/instance";
---

<Layout title={`ブログ | ${import.meta.env.APP_NAME}`} description="ブログ">
	<section class="articles">
		<PageTitle title="Blog" />
		<CategoriesNavBar />
		<ArticleCards articles={articles?.slice(0, 12)} />
	</section>
	<section class="ui">
		<TagsListModal categories={categories} tags={tags} client:visible />
		<ArchivesListModal articles={articles} client:visible />
	</section>
</Layout>

<script>
	import { gsap } from "gsap";
	import { ScrollTrigger } from "gsap/ScrollTrigger";
	gsap.registerPlugin(ScrollTrigger);

	const cards = gsap.utils.toArray(".article-card");

	cards.forEach((elm: any) => {
		gsap.from(elm, {
			ease: "expo.out",
			duration: 1.5,
			xPercent: 50,
			autoAlpha: 0,
			overflowX: "hidden",
			scrollTrigger: {
				trigger: elm,
			},
		});
	});
</script>

<style lang="scss">
	.articles {
	}

	.ui {
	}
</style>
