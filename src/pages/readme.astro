---
export const prerender = false;

import ArticleLayout from "../layouts/ArticleLayout.astro";

// README
import { Content as README } from "../../README.md";

// validate secret
if (
	!Astro.url.searchParams.get("secret") ||
	Astro.url.searchParams.get("secret") !== import.meta.env.NEWT_ARTICLE_PREVIEW_SECRET
) {
	return Astro.redirect("/");
}
---

<ArticleLayout title={`README | ${import.meta.env.APP_NAME}`} description="README">
	<article class="article-content">
		<README />
	</article>
</ArticleLayout>
